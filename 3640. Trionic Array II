class Solution:
    def maxSumTrionic(self, nums: List[int]) -> int:
        n = len(nums)
        a = b = c = result = -math.inf
        for i in range(1, n):
            x0, x1 = nums[i - 1], nums[i]
            na = nb = nc = -math.inf
            if x0 < x1: 
                na = max(x0 + x1, a + x1)
                nc = max(c + x1, b + x1)
            elif x0 > x1:
                nb = max(b + x1, a + x1)
            result = max(result, nc)
            a, b, c = na, nb, nc
        return result    
